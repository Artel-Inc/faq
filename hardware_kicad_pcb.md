# Рекомендации по работе с pcb в kicad.

Если проектируешь, проектируй красиво. 

Если вы редактируете чужую pcb, повторяйте ее стилистически. Не изобретай велосипед, унаследуй практики.

Если используете модули из других репозиториев, читайте `README.md`. Там могут быть важные замечания.

На сегодняшний день разработка новых плат ведется в метрической системе координат. Разработка схемотехники как и прежде в дюймовой.

## Общие рекомендации

| Рекомендации:                                                                                                                                                                                                                                                                                                                                                                                     | Почему это важно:                                                                                                                                                                                                                                                                                                                                   |
| ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| Настройки полигона. Избавляйтесь от острых углов. Используйте скругления.<br />![image-20240525114051040](design//image-20240525114051040.png)                                                                                                                                                                                                                                                    | - Острый угол точка потенциального пробоя<br />- Чертеж выглядит аккуратнее, более проработанным                                                                                                                                                                                                                                                    |
| Настройки полигона. Зазор и минимальная ширина обычно имеют одинаковое значение. Зазор полигона не должен быть больше зазора дорожки (минимального) определенного в классе цепи. <br />![image-20240525115908170](design//image-20240525115908170.png)![image-20240525115930218](design//image-20240525115930218.png)                                                                             | - Отклонение от этой рекомендации влечет нарушения импеданса предварительно настроенных цепей                                                                                                                                                                                                                                                       |
| Зазор терморазгрузки может быть равен зазору между дорожками, но лучше использовать значение зазора из более грубого класса цепей. Например, зазор между дорожками 0.127, зазор терморазгрузки 0.2 (зазор для более грубого класса цепей)<br />Мостик же выбирается наиболее широкий исходя из корпусов используемых деталей<br />![image-20240525120148104](design//image-20240525120148104.png) | - Слишком большей зазор терморазгрузки блокирует заливку в узких местах<br />- Зазор терморазгрузки равный зазору дорожки усложняет производство (лучше использовать для этого параметра "зазор спераливидных проводников")<br />- Мостик, более широкий мостик уменьшает потери в точки соединения. Но повышает процент брака из-за непропая<br /> |
| Используйте сглаживание углов полигона через настройки полигона, а не вручную рисуя скосы.<br />Старайтесь делать одинаковые отступы со всех сторон полигона.<br />Было:![image-20240525121854624](design//image-20240525121854624.png)<br />Стало:![image-20240525121925893](design//image-20240525121925893.png)                                                                                | - Упрощает последующее редактирование<br />- Позволяет глобально изменять параметры скосов                                                                                                                                                                                                                                                          |
| Для получения предсказуемых углов скругления на границе платы. Устанавливайте границу полигона с учетом отступа от края платы.<br />Было:<br />![image-20240525122357520](design//image-20240525122357520.png)<br />Стало:<br />![image-20240525122429979](design//image-20240525122429979.png)                                                                                                   | - Эстетические моменты                                                                                                                                                                                                                                                                                                                              |
| Дорожки необходимо подводить к центру пада<br />было:<br />![image-20240525142944231](design//image-20240525142944231.png)<br />Стало:<br />![image-20240525143109497](design//image-20240525143109497.png)                                                                                                                                                                                       | - Подключение не к центру не позволяет в последующем согласовывать длину линии<br />                                                                                                                                                                                                                                                                |
| Старайтесь уменьшить количество разрывов в опорном слое.<br />Было:<br />![image-20240525145818162](design//image-20240525145818162.png)Cтало:<br />![image-20240525150138652](design//image-20240525150138652.png)                                                                                                                                                                               | - Меньше проблем с ЭМС<br />- Равномерный опорный слой                                                                                                                                                                                                                                                                                              |
| Избегайте 'окон'<br />Было:<br />![image-20240525150844477](design//image-20240525150844477.png)Стало:<br />![image-20240525150943967](design//image-20240525150943967.png)                                                                                                                                                                                                                       | - Равномерная земля<br />- Больше точек контакта земли<br />- Экранировка цепей                                                                                                                                                                                                                                                                     |
| Начинайте трассировать плату с цепей чувствительных к импедансу. <br />Было:<br />![image-20240526004311253](design//image-20240526004311253.png)Стало:<br />![image-20240526004354038](design//image-20240526004354038.png)                                                                                                                                                                      | - Повышает общее качество и работоспособность платы                                                                                                                                                                                                                                                                                                 |
| Левый верхний угол платы необходимо поместить в позицию с абсолютными координатами 30х30мм. А так же перестать в эту координату начло сетки и сверловки.<br />![image-20240618184406689](design//image-20240618184406689.png)<br />![image-20240618184543652](design//image-20240618184543652.png)                                                                                                | - Избавляет от ошибок с началом координат в производственных файлах                                                                                                                                                                                                                                                                                 |
| Устанавливайте `vias` для `gnd` около каждого вывода перед началом трассировки.                                                                                                                                                                                                                                                                                                                   | - Позволяет получить гарантированно стабильные земли в цепях питания чипов.                                                                                                                                                                                                                                                                         |
| Если тех. процесс предусматривает фрезеровку. Скругляйте контур платы.                                                                                                                                                                                                                                                                                                                            | - Упрощает монтаж платы в блок                                                                                                                                                                                                                                                                                                                      |
| Отключите значения и обозначения у `H?` и `FID?`, эти элементы не требуют установки.                                                                                                                                                                                                                                                                                                              | - Повышает читаемость                                                                                                                                                                                                                                                                                                                               |
| Используйте для копирования однотипных трассировок плагин:<br />![image-20240526011933813](design//image-20240526011933813.png)                                                                                                                                                                                                                                                                   | - Единообразие топологии                                                                                                                                                                                                                                                                                                                            |
| Шелкография должна быть читаема. Уменьшите ее в соответствии с требованиями (производства/руководителя)                                                                                                                                                                                                                                                                                           | - Удобство работы с платой                                                                                                                                                                                                                                                                                                                          |
| Если в проекте определены классы цепей, используйте автоматическое определение ширины дорожке и размеров отверстий. <br />![image-20240526012321878](design//image-20240526012321878.png)                                                                                                                                                                                                         | - Избавляет от ошибок с активным и волновым сопротивлением<br />                                                                                                                                                                                                                                                                                    |
| рекомендую между полигонами делать контролируемый зазор )<br/>что бы он не менялся от тех норм.<br />![image-20240618184725751](design//image-20240618184725751.png)                                                                                                                                                                                                                              | - Предсказуемый диэлектрический зазор.<br />- Упрощает последующее редактирование полигонов.                                                                                                                                                                                                                                                        |
| Что бы были красивые скругления между двумя полигонами одной цепи. нужно делать нахлесты<br />![image-20240618184946095](design//image-20240618184946095.png)                                                                                                                                                                                                                                     | - Эстетические моменты                                                                                                                                                                                                                                                                                                                              |
| Делайте одинаковые зазоры в группе проводников.<br />Было:![image-20240618185805163](design//image-20240618185805163.png)<br />Стало:![image-20240618185821606](design//image-20240618185821606.png)<br />                                                                                                                                                                                        | - Эстетические моменты                                                                                                                                                                                                                                                                                                                              |
| Используйте скругления полигонов. Удаляйте островки. делайте терморазгрузку. <br />![image-20240618190453101](design//image-20240618190453101.png)![image-20240618190501260](design//image-20240618190501260.png)                                                                                                                                                                                 | - Эстетические моменты                                                                                                                                                                                                                                                                                                                              |
| "Экранируй", по возможности, сигнальные линии  опорным слоем вокруг.  В идеале иметь возможность поставить отверстие между разнородными сигналами.<br/>Плохой вариант:![](design/2025-03-06-10-02-11-image.png)<br/>Хороший вариант:![](design/2025-03-06-10-03-00-image.png)                                                                                                                     | - Целостность сигнала                                                                                                                                                                                                                                                                                                                               |
| Избегай дорожек между падами.<br/>зеленая хорошо, синие плохо:![](design/2025-03-06-10-07-43-image.png)                                                                                                                                                                                                                                                                                           | - Упрощает работу производства<br/>- Корректнее расчесывается длинна трассы                                                                                                                                                                                                                                                                         |
| Делай отступ от крепежных элементов на топологии.<br/>![](design/2025-03-06-10-09-35-image.png)                                                                                                                                                                                                                                                                                                   | - Избавляет от замыканий и некачественного монтажа                                                                                                                                                                                                                                                                                                  |
| Стремитесь к однородному импедансы на трассе (толщина/зазор сигнальной линии должна быть одинаковая на всем пути). СВЧ тракты должны быть строго рассчитаны.<br/>Было:![](design/2025-03-06-10-17-24-image.png)<br/>Стало:![](design/2025-03-06-10-17-58-image.png)                                                                                                                               | - Целостность сигнала                                                                                                                                                                                                                                                                                                                               |
| Избегайте дорожек под 90 градусов. Старайтесь схожие элементы топологии делать одинаковыми.<br/>![](design/2025-03-06-10-25-39-image.png)                                                                                                                                                                                                                                                         | - Целостность сигнала<br/>- Эстетические моменты                                                                                                                                                                                                                                                                                                    |
| В случае когда термобарьеры не позволяют осуществить стабильное подключение, используйте локальный полигон с меньшим или отсутствующим термобарьером.<br/>Было:![](design/2025-03-06-10-29-09-image.png)<br/>Стало:![](design/2025-03-06-10-32-10-image.png)                                                                                                                                      | - Нагрузочная способность линии                                                                                                                                                                                                                                                                                                                     |
| Старайтесь использовать монолитные полигоны в питании.<br/>Было:![](design/2025-03-06-10-44-45-image.png)<br/>Стало:![](design/2025-03-06-10-46-46-image.png)                                                                                                                                                                                                                                     | - Упрощает последующее редактирование<br/>- Нагрузочная способность линии                                                                                                                                                                                                                                                                           |
| Не используйте сложные формы полигонов. Их невозможно редактировать.<br/>![](design/2025-03-06-10-59-13-image.png)                                                                                                                                                                                                                                                                                | - Упрощает последующее редактирование                                                                                                                                                                                                                                                                                                               |
| Используйте возможность выравнивания у текста.![](design/2025-03-06-11-00-15-image.png)<br/>Подписи компонентов предпочтительно ставить на осях компонента (когда это возможно).<br/>![](design/2025-03-06-11-00-04-image.png)                                                                                                                                                                    | - Упрощает последующее редактирование<br/>- Эстетические моменты                                                                                                                                                                                                                                                                                    |
| Избегайте соединения с полигонами по средствам дорожек. Настройте полигон.<br/>Было:![](design/2025-03-06-11-02-54-image.png)<br/>Стало:![](design/2025-03-06-11-03-18-image.png)                                                                                                                                                                                                                 | - Упрощает последующее редактирование<br/>- Нагрузочная способность линии                                                                                                                                                                                                                                                                           |
| Опорный слой это важно. Старайтесь около всех выводов GND,  ставить отверстие соединяющее с опорным слоем.![](design/2025-03-06-11-06-44-image.png)                                                                                                                                                                                                                                               | - Целостность сигнала                                                                                                                                                                                                                                                                                                                               |
| Старайтесь ставить конденсатор максимально близко к выводам питания.<br/>Плохой пример, тут необходимо повернуть конденсатор на 180 градусов:![](design/2025-03-06-11-10-03-image.png)                                                                                                                                                                                                            | - Целостность сигнала                                                                                                                                                                                                                                                                                                                               |
| Используйте для СВЧ каскада свой собственный полигон, с собственными настройками.<br/>![](design/2025-03-06-11-14-31-image.png)                                                                                                                                                                                                                                                                   | - Целостность сигнала                                                                                                                                                                                                                                                                                                                               |
| Избегайте островков подключенных в одной токе.<br/>![](design/2025-03-06-11-46-14-image.png)                                                                                                                                                                                                                                                                                                      | - Эстетические моменты                                                                                                                                                                                                                                                                                                                              |
| Компонуй компактнее.<br/>Было:![](design/2025-03-06-11-49-22-image.png)<br/>Стало:![](design/2025-03-06-11-49-35-image.png)                                                                                                                                                                                                                                                                       | - Эстетические моменты<br/>- Повышает плотность монтажа.                                                                                                                                                                                                                                                                                            |
| Снижайте количество пересечений при компоновке.<br/>Было:![](design/2025-03-06-11-51-32-image.png)<br/>Стало:![](design/2025-03-06-11-51-44-image.png)                                                                                                                                                                                                                                            | - Общее качество трассировки                                                                                                                                                                                                                                                                                                                        |
| Ставь компоненты по сетке!!!!!<br/>Пример не по сетке:![](design/2025-03-06-11-54-00-image.png)![](design/2025-03-06-11-54-51-image.png)                                                                                                                                                                                                                                                          | - Общее качество трассировки<br/>- Упрощает последующее редактирование                                                                                                                                                                                                                                                                              |
| Избегайте "змеек". Перенесите на другой слой.![](design/2025-03-06-11-59-38-image.png)                                                                                                                                                                                                                                                                                                            | - Общее качество трассировки                                                                                                                                                                                                                                                                                                                        |
| Избегайте соединения рядом стоящих падов прямой линией. Выведете ее за пределы группы пайки.<br/>Было:![](design/2025-03-06-11-59-54-image.png)<br/>Стало:![](design/2025-03-06-12-00-27-image.png)                                                                                                                                                                                               | - Упрощает работу производства<br/>- Упрощает отладку                                                                                                                                                                                                                                                                                               |

## Разработка FP

| Рекомендации:                                                                                                                                                                                                          | Почему это важно:                                                                        |
| ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ---------------------------------------------------------------------------------------- |
| Используй стандартную толщину линии для вспомогательных слоев. <br/>- Silk = 0,12mm<br/>- Fab = 0,1mm<br/>- Courtyard =  0,05mm<br/>- TEXT = 0,15mm![](design/2025-03-06-12-51-46-image.png)                           | - Не перегружай чертеж                                                                   |
| Используйте треугольник для маркировки первого вывода.![](design/2025-03-06-12-52-29-image.png)                                                                                                                        | - Единообразие с оф библиотекой<br/>- Явное указание первого вывода                      |
| Pad под qfn должен выступать за пределы корпуса на 0.2мм![](design/2025-03-06-12-53-13-image.png)                                                                                                                      | - Возможность ручного монтажа<br/>- Возможность контроля качества пайки без спец средств |
| Не стоит надеяться на шелкографию при маркировки первого вывода, она может быть повреждена или утрачена. По возможности используйте общепринятые обозначения на медных слоях.![](design/2025-03-06-12-54-34-image.png) | - Единообразие с оф библиотекой<br/>- Явное указание первого вывода                      |
| Не дописывай 0 при нумерации выводов, это заблокирует возможность использовать стандартные УГО.<br/>Было:![](design/2025-03-06-13-01-33-image.png)<br/>Cстало:![](design/2025-03-06-13-01-51-image.png)                | - Единообразие с оф библиотекой                                                          |
| Рекомендую использовать пады с закругленными краями, но не круглыми.![](design/2025-03-06-13-09-42-image.png)                                                                                                          | - Эстетические моменты                                                                   |
