# Процедура пред/пост-заказ печатных плат.

На сегодняшний день процедура подготовки КД на печатную плату автоматизирована. Так же частично автоматизирована процедура формирования документ досборки. 

## Где взять КД?

1. Необходимо определиться, какую плату и какую версию необходимо изготовить и на каком производстве.
   Предположим нам необходима плата `sfc` последней версии. 

2. Ищем соответствующую плату в репозиториях организации.

   ![image-20240629171202869](design//image-20240629171202869.png)

3. Необходимо проверить версию, велика вероятность, что кд на последнюю версию не сформировано.
   ![image-20240629171520294](design//image-20240629171520294.png)

4. Смотрим внимательно на страницу, если есть отклонения уведомляем Maintainer (руководителем).
   1. Если есть открытые `PR` (зеленая стрелка)
   2. Если версия (красная стрелка) в `Changelog` не соответствует `Releases` (важны только первые 2 цифры разделенные точкой)
   3. Если `Releases` сформирован не из последнего коммита (синяя стрелка). ![image-20240629172247162](design//image-20240629172247162.png)

5. Берем полученные файлы и переходим к инструкции по заказу на конкретном производстве. (смотри [README](./README.md))

## Как самостоятельно выпустить КД?

> [!WARNING]
>
> Перед началом выпуска КД необходимо закрыть все `PR` и проверить `issues` на наличие критических проблем. Согласовать их устранение с Maintainer.

> [!NOTE]
>
> Убедитесь что `Releases`, создается из платы прошедшей тестирование `ERC/DRC`
>
> ![image-20240629174114245](design//image-20240629174114245.png)

1. Понять принцип формирования версий (смотри [README](./version_guid.md))
2. Перейти в `Releases` и воспользоваться  `Draft a new release`.
   ![image-20240629173348674](design//image-20240629173348674.png)
3. Создать `tag`, указать `title` они должны совпадать.
   ![image-20240629173419233](design//image-20240629173419233.png)

4. Создать релиз. По необходимости можно сделать описание релиза. 
   ![image-20240629173620746](design//image-20240629173620746.png)
5. Дождаться формирования КД. Процесс можно отслеживать в `Action`![image-20240629173746367](design//image-20240629173746367.png)

6. После успешного завершения. В файлах релиза появятся файлы.
   ![image-20240629173834774](design//image-20240629173834774.png)

## Как сделать отчет по заказу плат?

В процессе заказа плат будут замены деталей или детали которые не сможет установить производитель, эта информация требует декларации.

Существует форма+автоматизация позволяющая хранить информацию о заказе.

1. Перейдите в репозиторий заказываемой платы.
2. Создайте `issue`.
   ![image-20240629174727612](design//image-20240629174727612.png)

3. Выберете "отчет о заказе".
   ![image-20240629174805876](design//image-20240629174805876.png)

4. Следуйте форме.
   ![image-20240629174908119](design//image-20240629174908119.png)

5. После создания`issue`. Дождитесь завершения `action` (смотри: "Как самостоятельно выпустить КД?"). Вы должны получить уведомления с сопутствующими документами и правками в проект.
   ![image-20240629175401944](design//image-20240629175401944.png)
6. Уведомите руководителя о завершении заказа и уведомите закупщика о необходимости покупке деталей.
